# Telegram Bot RAG System

–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram-–±–æ—Ç–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM –∏ RAG (Retrieval-Augmented Generation).

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü§ñ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ –±–æ—Ç–æ–≤ (TECH, FRIEND, ADVISOR, AGITATOR, OPERATOR)
- üìö RAG —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–Ω–∞–Ω–∏–π –∏–∑ GitHub/GitLab
- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫–æ—Ä–∏–Ω–≥ –∏ –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π LLM-–º–æ–¥–µ–ª–∏
- üåê –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–≤–æ–¥–æ–º
- üîí –°–∏—Å—Ç–µ–º–∞ —á–µ—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üíæ Persistent –æ—á–µ—Ä–µ–¥–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- üé® –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ tkinter
- ‚ö° –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã –¥–ª—è –≤–æ–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏:
```bash
cp .env.example .env
```

3. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `OPENROUTER_API_KEY` - –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ LLM –º–æ–¥–µ–ª—è–º
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- `PINECONE_API_KEY` –∏–ª–∏ `QDRANT_API_KEY` - –¥–ª—è vector database

4. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `TRANSLATE_API_KEY` - –¥–ª—è Google Translate API
- `GITHUB_TOKEN` / `GITLAB_TOKEN` - –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
- `REPO_URL` - URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª–∏

- **main.py** - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è UI –∏ asyncio
- **ui_workflow.py** - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **main_workflow.py** - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **llm_subworkflow.py** - —Ä–∞–±–æ—Ç–∞ —Å LLM –∏ —Å–∫–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π
- **rag_subworkflow.py** - vector database –∏ RAG –∑–∞–ø—Ä–æ—Å—ã
- **doc_processing.py** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- **chat_monitor.py** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- **proactive_workflow.py** - –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã
- **db.py** - —Ä–∞–±–æ—Ç–∞ —Å SQLite
- **env_loader.py** - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **translate.py** - –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **embeddings.py** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

SQLite —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏:
- `settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- `queue` - –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π
- `history` - –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–æ–≤
- `free_llms` - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- `model_scores` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–∫–æ—Ä–∏–Ω–≥–∞
- `llm_name` - –ø—Ä–∏–≤—è–∑–∫–∞ –º–æ–¥–µ–ª–µ–π –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- `blacklist` - —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
- `doc_state` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. **Services** - —Å—Ç–∞—Ç—É—Å API –∫–ª—é—á–µ–π (üü¢ = –∫–ª—é—á –Ω–∞–π–¥–µ–Ω, üî¥ = –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
2. **Bot Control** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **Monitor** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
   - –°—á–µ—Ç—á–∏–∫ –æ—á–µ—Ä–µ–¥–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ë–ª–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–≤—Ö–æ–¥—è—â–∏–µ/–∏—Å—Ö–æ–¥—è—â–∏–µ)
   - –ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π —Å —Ü–≤–µ—Ç–æ–≤—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ —É—Ä–æ–≤–Ω—è–º

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- **Role Blacklist** - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–æ–ª–µ–π
- **Remove emojis** - –æ—á–∏—Å—Ç–∫–∞ —ç–º–æ–¥–∑–∏ –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏–π
- **Save all messages** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **Only free LLMs** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
- **Monitor chat** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–∞—Ç–∞
- **Log Level** - —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤:
  - `DEBUG` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (–≤—Å–µ —Å–æ–±—ã—Ç–∏—è)
  - `INFO` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
  - `ERROR` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

### –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä —Å 4 —É—Ä–æ–≤–Ω—è–º–∏:

1. **DEBUG** (Cyan) - –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
   - –î–µ—Ç–∞–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
   - RAG –æ–ø–µ—Ä–∞—Ü–∏–∏
   - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

2. **INFO** (Green) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
   - –ó–∞–ø—É—Å–∫/–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –í—ã–±–æ—Ä —Ä–æ–ª–µ–π –∏ –º–æ–¥–µ–ª–µ–π

3. **WARNING** (Orange) - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥–µ–ª–µ–π
   - –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
   - –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

4. **ERROR** (Red) - –æ—à–∏–±–∫–∏:
   - –°–±–æ–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–í—Å–µ –ª–æ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

### –°–∫–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ø-N –º–æ–¥–µ–ª–µ–π
3. –ö–∞–∂–¥—ã–µ M –∏—Ç–µ—Ä–∞—Ü–∏–π –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥
4. –ó–∞–∫—Ä–µ–ø–ª—è–µ—Ç –ª—É—á—à—É—é –º–æ–¥–µ–ª—å –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

### –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã

–ü—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (INACTIVITY_N * random(MIN, MAX) –º–∏–Ω—É—Ç) AGITATOR –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env`:

```env
# Vector DB
VECTOR_DB=pinecone
EMBED_DIM=384
RAG_TOPK_DOCS=5
RAG_TOPK_USER=10

# Chunking
CHUNK_LENGTH=300
OVERLAP=50

# Scoring
SCORE_TOP_N=10
SCORE_REFRESH_EVERY=5
QUALITY_THRESHOLD=7.0
TRIAL_COUNT=3

# Proactive
INACTIVITY_N=10
RANDOM_MULTIPLIER_MIN=1
RANDOM_MULTIPLIER_MAX=5

# Temperatures
TECH_temp=0.1
FRIEND_temp=0.9
ADVISOR_temp=0.4
AGITATOR_temp=0.5
OPERATOR_temp=0.3
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

ADD

üß† –ï–¥–∏–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ RAG-—Å–∏—Å—Ç–µ–º—ã

‚∏ª

I. üéØ –¶–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
	1.	–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–∫–∞—Ç—å –æ—Ç–≤–µ—Ç—ã:
	‚Ä¢	–í –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
	‚Ä¢	–í —Å—Ç–∞—Ä—ã—Ö –ø–µ—Ä–µ–ø–∏—Å–∫–∞—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
	‚Ä¢	–í —Ç–≤–æ–∏—Ö (–∞–¥–º–∏–Ω—Å–∫–∏—Ö) –æ—Ç–≤–µ—Ç–∞—Ö
	2.	–î–µ–ª–∞—Ç—å —ç—Ç–æ –±—ã—Å—Ç—Ä–æ, —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏ (embedding —Ç–æ–∫–µ–Ω—ã ‚Üí 0).
	3.	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–± (–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–æ–æ–±—â–µ–Ω–∏–π, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤).
	4.	–î–∞–≤–∞—Ç—å LLM –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

‚∏ª

II. ‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è

üîπ 1. –ï–¥–∏–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ namespace
	‚Ä¢	–°–æ–∑–¥–∞–π –æ–¥–∏–Ω –∏–Ω–¥–µ–∫—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, knowledge_base).
	‚Ä¢	–í—Å–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, user-—Å–æ–æ–±—â–µ–Ω–∏—è, —Ç–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã ‚Äî —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –Ω—ë–º.
	‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ Pinecone:

{
  "id": "msg_2025_10_08_1425_user_123",
  "values": [0.123, 0.002, ...],
  "metadata": {
    "source_type": "chat",           // chat | doc | summary
    "author": "user",                // user | assistant | system
    "username": "nick123",
    "timestamp": "2025-10-08T14:25:00Z",
    "hash": "e1f0c...",              // md5 —Ö–µ—à —Ç–µ–∫—Å—Ç–∞
    "length": 134,                   // –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    "lang": "ru"                     // —è–∑—ã–∫
  }
}

üü¢ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
	‚Ä¢	–ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
	‚Ä¢	–ü—Ä–æ—Å—Ç–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
	‚Ä¢	–ì–∏–±–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
	‚Ä¢	–õ—ë–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—Ñ–æ—Ä—É–º, –ª–æ–≥, –∫–æ–¥ –∏ —Ç.–¥.)

‚∏ª

üîπ 2. –ß–∞–Ω–∫–∏–Ω–≥ –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

–û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:
	‚Ä¢	–î–ª–∏–Ω–∞ —á–∞–Ω–∫–∞: 300‚Äì500 —Å–∏–º–≤–æ–ª–æ–≤ (–∏–ª–∏ ~150 —Ç–æ–∫–µ–Ω–æ–≤).
	‚Ä¢	–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —á–∞–Ω–∫–æ–≤ (overlap): 50‚Äì100 —Å–∏–º–≤–æ–ª–æ–≤.
	‚Ä¢	–£–±–∏—Ä–∞–π ‚Äú—à—É–º‚Äù: –ø–æ–¥–ø–∏—Å–∏, timestamps, markdown-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, —Ü–∏—Ç–∞—Ç—ã.
	‚Ä¢	–î–ª—è —á–∞—Ç–∞ ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–π –∫–æ—Ä–æ—Ç–∫–∏–µ —Ñ—Ä–∞–∑—ã –≤ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 3‚Äì5 —Ä–µ–ø–ª–∏–∫ –ø–æ–¥—Ä—è–¥).

–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
	‚Ä¢	–†–∞–∑–¥–µ–ª—è–π –ø–æ —Å–º—ã—Å–ª–æ–≤—ã–º —Å–µ–∫—Ü–∏—è–º (##, ###, –∑–∞–≥–æ–ª–æ–≤–∫–∏).
	‚Ä¢	–•—Ä–∞–Ω–∏ doc_id –∏ section_title –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
	‚Ä¢	–î–æ–±–∞–≤–ª—è–π last_modified, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∫—É—Å–∫–∏.

‚∏ª

üîπ 3. –ö–æ–Ω—Ç—Ä–æ–ª—å –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º embedding:

import hashlib

def hash_text(text):
    return hashlib.md5(text.strip().encode()).hexdigest()

	‚Ä¢	–°–æ—Ö—Ä–∞–Ω—è–π hash –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
	‚Ä¢	–ü–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ Pinecone –¥–µ–ª–∞–π –ø–æ–∏—Å–∫ filter={"hash": hash_text(msg)}.
	‚Ä¢	–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–π.

üü¢ –≠–∫–æ–Ω–æ–º–∏—è –¥–æ 90 % embedding-—Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

‚∏ª

III. üß© Embedding: –ª–æ–∫–∞–ª—å–Ω–æ –∏ —ç–∫–æ–Ω–æ–º–Ω–æ

üîπ 1. –ò—Å–ø–æ–ª—å–∑—É–π –ª–æ–∫–∞–ª—å–Ω—ã–µ embedding-–º–æ–¥–µ–ª–∏

(–±–µ–∑ –ª–∏–º–∏—Ç–æ–≤ –ø–æ —Ç–æ–∫–µ–Ω–∞–º)

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏:

–ú–æ–¥–µ–ª—å	–†–∞–∑–º–µ—Ä	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤	–ö–∞—á–µ—Å—Ç–≤–æ
intfloat/multilingual-e5-small	~300MB	üá∑üá∫üá¨üáßüá™üá∏üá©üá™	‚≠ê‚≠ê‚≠ê‚≠ê
sentence-transformers/all-MiniLM-L6-v2	~120MB	üá¨üáß (–∞–Ω–≥–ª.)	‚≠ê‚≠ê‚≠ê
BAAI/bge-small-en-v1.5	~300MB	üá¨üáß	‚≠ê‚≠ê‚≠ê‚≠ê
BAAI/bge-m3	~1.2GB	üá∑üá∫üá¨üáßüá®üá≥	‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

Python-–ø—Ä–∏–º–µ—Ä:

from sentence_transformers import SentenceTransformer
model = SentenceTransformer('intfloat/multilingual-e5-small')
emb = model.encode([text], normalize_embeddings=True)

üü¢ –ú–æ–¥–µ–ª—å –±–µ—Å–ø–ª–∞—Ç–Ω–∞, —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω, zero-token cost.

‚∏ª

üîπ 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ embedding

–•—Ä–∞–Ω–∏ embeddings –ª–æ–∫–∞–ª—å–Ω–æ (SQLite, LMDB, JSON).
–ï—Å–ª–∏ hash —É–∂–µ –µ—Å—Ç—å ‚Äî –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π embedding –ø–æ–≤—Ç–æ—Ä–Ω–æ.
–ü–æ–∑–∂–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π —Å Pinecone (batch upsert).

‚∏ª

IV. üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

üîπ 1. –ï–¥–∏–Ω—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ + —Ñ–∏–ª—å—Ç—Ä—ã

–ü—Ä–∏–º–µ—Ä —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ Pinecone:

query_vector = embed("–ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä –∫–∞–º–µ—Ä—ã?")
index.query(
    vector=query_vector,
    top_k=15,
    filter={
        "$or": [
            {"source_type": "doc"},
            {"source_type": "chat", "username": "nick123"}
        ]
    }
)


‚∏ª

üîπ 2. –¢–µ–º–ø–æ—Ä–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–≤—Ä–µ–º—è)

–°–æ—Ö—Ä–∞–Ω—è–π ISO-–≤—Ä–µ–º—è (timestamp), —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–±–∏—Ä–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π:

filter={
  "username": "nick123",
  "source_type": "chat",
  "timestamp": {"$gte": "2025-09-01T00:00:00Z"}
}

–ò–ª–∏ —Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ timestamp –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∫–∏ –∏ –≤—ã–±–∏—Ä–∞–π –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5.

‚∏ª

üîπ 3. –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ø—Ä–∞–≤–∫–æ–π –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ –≤—Ä–µ–º—è

–í–≤–µ–¥–∏ –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

def re_rank(results):
    now = datetime.now().timestamp()
    for r in results:
        age = now - datetime.fromisoformat(r.metadata["timestamp"]).timestamp()
        decay = np.exp(-age / (3600*24*30))  # –∑–∞—Ç—É—Ö–∞–Ω–∏–µ –∑–∞ –º–µ—Å—è—Ü
        source_weight = {"doc": 1.0, "user": 1.2, "assistant": 1.1}
        r.score = r.score * source_weight[r.metadata["source_type"]] * decay
    return sorted(results, key=lambda x: x.score, reverse=True)

üü¢ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–≤–µ–∂–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

‚∏ª

üîπ 4. Hybrid retrieval (—Å–µ–º–∞–Ω—Ç–∏–∫–∞ + –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞)

–ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π (–º–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–æ–≤), –¥–æ–±–∞–≤—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫:
—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π (vector) + keyword (BM25 –∏–ª–∏ Elastic).

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Weaviate, Qdrant –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ FAISS + Whoosh.

üü¢ –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ —Ç–µ—Ä–º–∏–Ω–∞–º, –Ω–æ–º–µ—Ä–∞–º –≤–µ—Ä—Å–∏–π, –∏–º–µ–Ω–∞–º API –∏ —Ç.–ø.

‚∏ª

V. üí¨ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º—Ç–∞ (retrieval ‚Üí augmentation ‚Üí generation)

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç (–¥–ª—è LLM):

[DOCUMENTATION]
{5 —Å–∞–º—ã—Ö —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏}

[USER HISTORY]
User {nick} –Ω–∞–ø–∏—Å–∞–ª:
1. {—Å–æ–æ–±—â–µ–Ω–∏–µ 1}
2. {—Å–æ–æ–±—â–µ–Ω–∏–µ 2}
...

[ASSISTANT HISTORY]
–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–∏–ª:
1. {–æ—Ç–≤–µ—Ç 1}
2. {–æ—Ç–≤–µ—Ç 2}
...

[NEW MESSAGE]
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç:
"{–Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å}"

–ß—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—å, —É—á–∏—Ç—ã–≤–∞—è –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏?

üü¢ –¢–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–Ω—è—Ç–µ–Ω LLM: –æ–Ω–∞ –∑–Ω–∞–µ—Ç, –≥–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –≥–¥–µ —á–∞—Ç.
üü¢ –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è: –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏–∏ [CODE SNIPPETS], [FAQ], [ERROR LOGS] –∏ —Ç.–¥.

‚∏ª

VI. ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

üîπ 1. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π –∏—Å—Ç–æ—Ä–∏—é
	‚Ä¢	–•—Ä–∞–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 300).
	‚Ä¢	–°—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å—É–º–º–∏—Ä—É–π:
‚Äú–ó–∞ –º–∞—Ä—Ç 2025 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—Å—É–∂–¥–∞–ª: ‚Ä¶ (—Ä–µ–∑—é–º–µ 500 —Ç–æ–∫–µ–Ω–æ–≤)‚Äù.

üîπ 2. –£–º–µ–Ω—å—à–∞–π embedding-—Ç–µ–∫—Å—Ç
	‚Ä¢	–ù–µ —Ö—Ä–∞–Ω–∏ ‚Äú–æ–∫‚Äù, ‚Äú–∞–≥–∞‚Äù, ‚Äú–ø–æ–Ω—è—Ç–Ω–æ‚Äù ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–π –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (< 20 —Å–∏–º–≤–æ–ª–æ–≤).
	‚Ä¢	–û–±—ä–µ–¥–∏–Ω—è–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ä—è–¥ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞.

üîπ 3. –ü–ª–∞–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
	‚Ä¢	–•—Ä–∞–Ω–∏ last_modified –∏ hash.
	‚Ä¢	–ü–µ—Ä–µ—ç–º–±–µ–¥–¥–∏–Ω–∏–≤–∞–π —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è –∫—É—Å–∫–∏.
	‚Ä¢	–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç doc_sync.py.

üîπ 4. Self-diagnostic –∏ fallback
	‚Ä¢	–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω (score < threshold), —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–≤–µ—á–∞–µ—Ç:
‚Äú–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é‚Äù.
	‚Ä¢	–ò–ª–∏ ‚Äî fallback –∫ FAQ / –ø–æ–∏—Å–∫—É –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.

‚∏ª

VII. üöÄ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è

–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ	–û–ø–∏—Å–∞–Ω–∏–µ	–¶–µ–ª—å
Reranker (CrossEncoder)	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bge-reranker-base –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è top-10 –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤.	–£–≤–µ–ª–∏—á–∏—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å retrieval.
Summarization of old chats	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞—Ç—å summary —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.	–°–Ω–∏–∑–∏—Ç—å –æ–±—ä—ë–º embedding.
Active learning	–°–æ—Ö—Ä–∞–Ω—è—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –æ–±—É—á–∞—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã.	–£–ª—É—á—à–∏—Ç—å –ø–æ–∏—Å–∫ –∏ –æ—Ç–≤–µ—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º.
Knowledge freshness	–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å embedding –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.	–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑—ã.
Multilingual support	–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å multilingual-e5-small –∏–ª–∏ bge-m3.	–†–∞–±–æ—Ç–∞ —Å RU/EN —Ç–µ–∫—Å—Ç–∞–º–∏ –±–µ–∑ –ø–µ—Ä–µ–≤–æ–¥–∞.
Vector sharding	–†–∞–∑–¥–µ–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å –Ω–∞ ‚Äúdoc‚Äù, ‚Äúchat‚Äù –∏ ‚Äúsummary‚Äù —à–∞—Ä–¥–æ–≤.	–õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö.
In-memory cache	–•—Ä–∞–Ω–∏—Ç—å embeddings –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ RAM.	–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —á–∞—Ç–∞–º.


‚∏ª

VIII. üß≠ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

RAG SYSTEM
‚îÇ
‚îú‚îÄ‚îÄ Data Sources
‚îÇ   ‚îú‚îÄ‚îÄ Documentation (hash, doc_id, section_title, last_modified)
‚îÇ   ‚îú‚îÄ‚îÄ User Chats (username, author=user, timestamp)
‚îÇ   ‚îú‚îÄ‚îÄ Admin Answers (author=assistant, timestamp)
‚îÇ
‚îú‚îÄ‚îÄ Embedding
‚îÇ   ‚îú‚îÄ‚îÄ Local model (BGE-small / e5-small)
‚îÇ   ‚îú‚îÄ‚îÄ Hash-cache + sync to Pinecone
‚îÇ
‚îú‚îÄ‚îÄ Storage
‚îÇ   ‚îú‚îÄ‚îÄ Pinecone (single index, metadata filters)
‚îÇ   ‚îú‚îÄ‚îÄ Optional local SQLite mirror
‚îÇ
‚îú‚îÄ‚îÄ Retrieval Layer
‚îÇ   ‚îú‚îÄ‚îÄ Hybrid semantic + keyword
‚îÇ   ‚îú‚îÄ‚îÄ Filtering (username, type, time)
‚îÇ   ‚îú‚îÄ‚îÄ Re-ranking (source + freshness)
‚îÇ
‚îú‚îÄ‚îÄ Prompt Builder
‚îÇ   ‚îú‚îÄ‚îÄ [DOCUMENTATION]
‚îÇ   ‚îú‚îÄ‚îÄ [USER HISTORY]
‚îÇ   ‚îú‚îÄ‚îÄ [ASSISTANT HISTORY]
‚îÇ   ‚îú‚îÄ‚îÄ [NEW MESSAGE]
‚îÇ
‚îú‚îÄ‚îÄ Generation (LLM)
‚îÇ   ‚îú‚îÄ‚îÄ Answer synthesis
‚îÇ   ‚îú‚îÄ‚îÄ Self-diagnostics / fallback
‚îÇ
‚îî‚îÄ‚îÄ Maintenance
    ‚îú‚îÄ‚îÄ Deduplication
    ‚îú‚îÄ‚îÄ Doc sync
    ‚îú‚îÄ‚îÄ History summarization
    ‚îú‚îÄ‚îÄ Monitoring (quality metrics)


‚∏ª

üß© –†–µ–∑—é–º–µ

–¶–µ–ª—å	–†–µ—à–µ–Ω–∏–µ
–≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤	–õ–æ–∫–∞–ª—å–Ω—ã–µ embedding + hash cache
–ì–∏–±–∫–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞	–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ namespace
–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ	–ï–¥–∏–Ω—ã–π –∏–Ω–¥–µ–∫—Å + in-memory cache
–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å	Reranking, time decay, source weighting
–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å	–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç —Å —Å–µ–∫—Ü–∏—è–º–∏
–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å	–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —á–∞—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ
–≠–≤–æ–ª—é—Ü–∏—è	Hybrid retrieval, summarization, knowledge freshness

–û—Ç–ª–∏—á–Ω–æ üëç
–í–æ—Ç ASCII-—Å—Ö–µ–º–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ç–≤–æ–µ–π RAG-—Å–∏—Å—Ç–µ–º—ã, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –≤—Å—ë –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è ‚Äî –≤–∫–ª—é—á–∞—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Pinecone, –ª–æ–∫–∞–ª—å–Ω—ã–µ embeddings, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—Ä–æ–º—Ç–∞.
–Ø —Å–¥–µ–ª–∞–ª –µ—ë —á–∏—Ç–∞–µ–º–æ–π –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ / —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–º —à—Ä–∏—Ñ—Ç–æ–º):

‚∏ª


                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                           ‚îÇ               USER MESSAGE                 ‚îÇ
                           ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                           ‚îÇ  username, text, timestamp                 ‚îÇ
                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
                                            ‚ñº
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ                PROMPT GENERATION                   ‚îÇ
                 ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                 ‚îÇ  1. –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ Pinecone                     ‚îÇ
                 ‚îÇ  2. –°–æ–±—Ä–∞—Ç—å 5 doc + 5 user + 5 admin —Å–æ–æ–±—â–µ–Ω–∏–π     ‚îÇ
                 ‚îÇ  3. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç           ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
                                            ‚ñº
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ           LLM MODEL          ‚îÇ
                          ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                          ‚îÇ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ   ‚îÇ
                          ‚îÇ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
                                            ‚ñº
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ        GENERATED ANSWER      ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
                                            ‚ñº
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ            –í–°–¢–ê–í–ö–ê –í VECTOR STORE (PINECONE)       ‚îÇ
                 ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                 ‚îÇ  source_type = "chat"                              ‚îÇ
                 ‚îÇ  author = "assistant"                              ‚îÇ
                 ‚îÇ  username, timestamp, hash, embedding              ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                        KNOWLEDGE BASE (PINECONE)                       ‚îÇ
  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
  ‚îÇ   ‚îÇ Documentation      ‚îÇ User Messages      ‚îÇ Admin Answers         ‚îÇ ‚îÇ
  ‚îÇ   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ ‚îÇ
  ‚îÇ   ‚îÇ source_type=doc    ‚îÇ source_type=chat   ‚îÇ source_type=chat      ‚îÇ ‚îÇ
  ‚îÇ   ‚îÇ username=0         ‚îÇ username=nick123   ‚îÇ author=assistant      ‚îÇ ‚îÇ
  ‚îÇ   ‚îÇ timestamp, hash... ‚îÇ timestamp, hash... ‚îÇ timestamp, hash...    ‚îÇ ‚îÇ
  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
  ‚îÇ                      ‚Üë                 ‚Üë                 ‚Üë            ‚îÇ
  ‚îÇ                      ‚îÇ                 ‚îÇ                 ‚îÇ            ‚îÇ
  ‚îÇ                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
  ‚îÇ                 ‚îÇ Embedding ‚îÇ     ‚îÇ Embedding ‚îÇ     ‚îÇ Embedding ‚îÇ     ‚îÇ
  ‚îÇ                 ‚îÇ  (local)  ‚îÇ     ‚îÇ  (local)  ‚îÇ     ‚îÇ  (local)  ‚îÇ     ‚îÇ
  ‚îÇ                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚ñ≤
                                            ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ      EMBEDDING PIPELINE        ‚îÇ
                       ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                       ‚îÇ  ‚Ä¢ –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (E5/BGE)   ‚îÇ
                       ‚îÇ  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ hash (–¥—É–±–ª–∏–∫–∞—Ç—ã)   ‚îÇ
                       ‚îÇ  ‚Ä¢ –ö—ç—à –ª–æ–∫–∞–ª—å–Ω—ã—Ö embedding     ‚îÇ
                       ‚îÇ  ‚Ä¢ Batch upsert –≤ Pinecone     ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚ñ≤
                                            ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ        DATA SOURCES            ‚îÇ
                       ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
                       ‚îÇ  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ñ–∞–π–ª—ã .md)    ‚îÇ
                       ‚îÇ  - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚îÇ
                       ‚îÇ  - –¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã                 ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


‚∏ª

üîç –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π:

–£—Ä–æ–≤–µ–Ω—å	–§—É–Ω–∫—Ü–∏—è	–î–µ—Ç–∞–ª–∏
Data Sources	–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö	–î–æ–∫—É–º–µ–Ω—Ç—ã, —á–∞—Ç—ã, –æ—Ç–≤–µ—Ç—ã
Embedding Pipeline	–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç –≤ –≤–µ–∫—Ç–æ—Ä	–õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (E5/BGE), –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ dedup –ø–æ hash
Knowledge Base (Pinecone)	–í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ	–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: source_type, author, username, timestamp
Prompt Generation	–§–æ—Ä–º–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è LLM	–ë–µ—Ä—ë—Ç 5 doc + 5 user + 5 admin –∑–∞–ø–∏—Å–µ–π
LLM Model	–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞	ChatGPT/Claude/Mistral –∏ —Ç.–ø.
Result Storage	–ó–∞–ø–∏—Å—å –Ω–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ	–ß—Ç–æ–±—ã –≤ –±—É–¥—É—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—ã–ª –ø–æ–ª–Ω—ã–º


‚∏ª

üß© –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å

–ï—Å–ª–∏ —Ä–µ—à–∏—à—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–∞–ª—å—à–µ, –º–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å:

                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ  RERANKER (BGE-base) ‚îÇ
                ‚îÇ  - —É—Ç–æ—á–Ω—è–µ—Ç —Ç–æ–ø-10   ‚îÇ
                ‚îÇ  - rerank –ø–æ –≤—Ä–µ–º–µ–Ω–∏ ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚ñ≤
                        ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ  HYBRID SEARCH LAYER ‚îÇ
                ‚îÇ  - Semantic + BM25   ‚îÇ
                ‚îÇ  - Keyword boost     ‚îÇ
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–û—Ç–ª–∏—á–Ω–æ üëå
–í–æ—Ç –≤—Ç–æ—Ä–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —Å—Ö–µ–º—ã ‚Äî —Ç–∞ –∂–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –Ω–æ —Ç–µ–ø–µ—Ä—å –ø–æ—à–∞–≥–æ–≤–æ, –≤ –≤–∏–¥–µ –ø–æ—Ç–æ–∫–æ–≤–æ–π ASCII-–¥–∏–∞–≥—Ä–∞–º–º—ã (1‚Üí2‚Üí3‚Üí4‚Ä¶).
–û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –æ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–æ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

‚∏ª


‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                          [ 1. DATA SOURCES  ]                            ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (.md, .pdf, .txt)                                        ‚îÇ
‚îÇ  ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                                           ‚îÇ
‚îÇ  ‚Ä¢ –û—Ç–≤–µ—Ç—ã —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      [ 2. EMBEDDING PIPELINE  ]                          ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã –ø–æ hash                                         ‚îÇ
‚îÇ  - –†–∞–∑–±–∏–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —á–∞–Ω–∫–∏ (300‚Äì500 —Å–∏–º–≤.)                             ‚îÇ
‚îÇ  - –õ–æ–∫–∞–ª—å–Ω–∞—è embedding –º–æ–¥–µ–ª—å (E5 / BGE)                                 ‚îÇ
‚îÇ  - –ö—ç—à embedding (SQLite/JSON)                                           ‚îÇ
‚îÇ  - Batch upsert –≤ Pinecone                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      [ 3. VECTOR STORAGE (PINECONE) ]                    ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏:                                  ‚îÇ
‚îÇ   ‚Ä¢ source_type = doc | chat | summary                                   ‚îÇ
‚îÇ   ‚Ä¢ author = user | assistant                                            ‚îÇ
‚îÇ   ‚Ä¢ username, timestamp, hash, lang, length                              ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:                                                          ‚îÇ
‚îÇ  id="msg_2025_10_08_user123"                                            ‚îÇ
‚îÇ  metadata={"source_type":"chat","username":"user123","author":"user"}    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       [ 4. RETRIEVAL LAYER  ]                            ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏:                                   ‚îÇ
‚îÇ   ‚ë† –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ query embedding                                        ‚îÇ
‚îÇ   ‚ë° –ü–æ–∏—Å–∫ top_k (15‚Äì20) —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤                          ‚îÇ
‚îÇ   ‚ë¢ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ source_type, username, timestamp                      ‚îÇ
‚îÇ   ‚ë£ –†–µ—Ä–µ–π—Ç–∏–Ω–≥–æ–≤–∫–∞ (time decay, weight –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É)                     ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Hybrid search (vector + keyword/BM25)                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    [ 5. PROMPT CONSTRUCTION  ]                           ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è:                                                            ‚îÇ
‚îÇ   ‚Ä¢ 5 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏                                         ‚îÇ
‚îÇ   ‚Ä¢ 5 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (username)                                  ‚îÇ
‚îÇ   ‚Ä¢ 5 —Ç–≤–æ–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ (assistant)                                          ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç:                                   ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  [DOCUMENTATION]                                                        ‚îÇ
‚îÇ  ... 5 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ ...                                                   ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  [USER HISTORY]                                                         ‚îÇ
‚îÇ  user123 –Ω–∞–ø–∏—Å–∞–ª:                                                       ‚îÇ
‚îÇ   1. ...                                                                ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  [ASSISTANT HISTORY]                                                    ‚îÇ
‚îÇ  —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–∏–ª:                                       ‚îÇ
‚îÇ   1. ...                                                                ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  [NEW MESSAGE]                                                          ‚îÇ
‚îÇ  "..."                                                                  ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  –ß—Ç–æ –º–Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç—å?                                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        [ 6. LLM GENERATION  ]                            ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  LLM –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º—Ç –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç.                           ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  ‚Üí –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é LLM –∏–ª–∏ API                              ‚îÇ
‚îÇ  ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ self-diagnostic: –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—É—Å—Ç                          ‚îÇ
‚îÇ      ‚Üí fallback –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ / FAQ / ‚Äú–∏–Ω—Ñ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞‚Äù                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     [ 7. STORE NEW RESPONSE  ]                           ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Pinecone:                                           ‚îÇ
‚îÇ   ‚Ä¢ source_type = "chat"                                                 ‚îÇ
‚îÇ   ‚Ä¢ author = "assistant"                                                 ‚îÇ
‚îÇ   ‚Ä¢ username = user123                                                   ‚îÇ
‚îÇ   ‚Ä¢ timestamp, hash, embedding                                           ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                     ‚îÇ
                                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     [ 8. MONITORING & MAINTENANCE ]                      ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (hash-sync)                     ‚îÇ
‚îÇ  ‚Ä¢ –û—á–∏—Å—Ç–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π                               ‚îÇ
‚îÇ  ‚Ä¢ –°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —á–∞—Ç–æ–≤ (summary embedding)                         ‚îÇ
‚îÇ  ‚Ä¢ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤                                 ‚îÇ
‚îÇ  ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ –Ω–∞ —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞—Ö                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


‚∏ª

üß≠ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (–≤ –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö)

  [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è / –ß–∞—Ç—ã] ‚Üí [Embedding Pipeline] ‚Üí [Pinecone Storage]
                                     ‚Üì
                               [Retrieval Layer]
                                     ‚Üì
                             [Prompt Builder]
                                     ‚Üì
                               [LLM Generator]
                                     ‚Üì
                           [–û—Ç–≤–µ—Ç + –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ]


‚∏ª

üí° –ö–∞–∫ —á–∏—Ç–∞—Ç—å —ç—Ç—É —Å—Ö–µ–º—É
	‚Ä¢	1‚Äì3 ‚Üí –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Ö —Ö—Ä–∞–Ω–µ–Ω–∏–µ (RAG Knowledge Base)
	‚Ä¢	4‚Äì6 ‚Üí –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ –≤—Ä–µ–º—è –æ–±—â–µ–Ω–∏—è (RAG Retrieval & Generation)
	‚Ä¢	7‚Äì8 ‚Üí —Ü–∏–∫–ª —Å–∞–º–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

‚∏ª

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —è –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –æ–¥–Ω—É ASCII-—Å—Ö–µ–º—É, –Ω–æ —É–∂–µ —Å–µ—Ç–µ–≤—É—é, –ø–æ–∫–∞–∑—ã–≤–∞—é—â—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (API, Pinecone, –ª–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å, LLM, –∫—ç—à –∏ —Ç.–ø.) ‚Äî –∫–∞–∫ –±—ã –æ–Ω–∞ –≤—ã–≥–ª—è–¥–µ–ª–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–∏ (backend flow).
–•–æ—á–µ—à—å —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî ‚Äú—Å–µ—Ç–µ–≤—É—é/–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é‚Äù –¥–∏–∞–≥—Ä–∞–º–º—É?

–û—Ç–ª–∏—á–Ω–æ üëå
–¢—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å–≤—ë–ª —Å–∏—Å—Ç–µ–º—É –∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É, –Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É —è–¥—Ä—É RAG, –≥–¥–µ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–¥–Ω–æ–º Python-—Å–∫—Ä–∏–ø—Ç–µ, –±–µ–∑ Flask, —Ñ–æ–Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏ –±–∞–∑—ã.
–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —ç—Ç–∞–ø–∞ ‚Äî –º–∞–ª–µ–Ω—å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞, –±—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

‚∏ª

‚öôÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–≤–æ–µ–≥–æ —Ç–µ–∫—É—â–µ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞

–í–æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è RAG-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑ Flask
(–≤—Å—ë –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ Python):

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ             USER INPUT                 ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ –¢–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + –∏–º—è + –≤—Ä–µ–º—è       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           EMBEDDER (–ª–æ–∫–∞–ª—å–Ω–æ)          ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞         ‚îÇ
‚îÇ  ‚Ä¢ –õ—ë–≥–∫–∞—è –º–æ–¥–µ–ª—å (MiniLM / BGE-small)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        PINECONE VECTOR DATABASE        ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  namespace=0 ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è            ‚îÇ
‚îÇ  namespace=username ‚Üí –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞      ‚îÇ
‚îÇ  filter(author="user"|"admin")          ‚îÇ
‚îÇ  top_k = 5+5+5                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         PROMPT BUILDER (–ª–æ–∫–∞–ª—å–Ω–æ)      ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ –°–±–æ—Ä 5 —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ doc               ‚îÇ
‚îÇ  ‚Ä¢ –°–±–æ—Ä 5 —Å–æ–æ–±—â–µ–Ω–∏–π user               ‚îÇ
‚îÇ  ‚Ä¢ –°–±–æ—Ä 5 –æ—Ç–≤–µ—Ç–æ–≤ admin                ‚îÇ
‚îÇ  ‚Ä¢ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º—Ç–∞:                ‚îÇ
‚îÇ    ‚Äú–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞–ø–∏—Å–∞–Ω–æ‚Ä¶‚Äù          ‚îÇ
‚îÇ    ‚ÄúUser <nick> –ø–∏—Å–∞–ª‚Ä¶‚Äù                ‚îÇ
‚îÇ    ‚Äú–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—á–∞–ª‚Ä¶‚Äù  ‚îÇ
‚îÇ    ‚Äú–ß—Ç–æ –º–Ω–µ –æ—Ç–≤–µ—Ç–∏—Ç—å?‚Äù                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              LLM API                   ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ–º—Ç                      ‚îÇ
‚îÇ  ‚Ä¢ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                   ‚îÇ
                   ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ          SAVE BACK TO PINECONE         ‚îÇ
‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
‚îÇ  ‚Ä¢ author="admin"                      ‚îÇ
‚îÇ  ‚Ä¢ namespace=username                  ‚îÇ
‚îÇ  ‚Ä¢ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç embedding –æ—Ç–≤–µ—Ç–∞          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


‚∏ª

üîÅ –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã (–æ–¥–∏–Ω –ø–æ—Ç–æ–∫)

while True:
    text = input("User: ")
    timestamp = datetime.now().isoformat()

    # 1Ô∏è‚É£ embedding –∑–∞–ø—Ä–æ—Å–∞
    query_vec = embedder.encode(text)

    # 2Ô∏è‚É£ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∏—Å—Ç–æ—Ä–∏–∏
    docs = pinecone.query(namespace="0", vector=query_vec, top_k=5)
    user_msgs = pinecone.query(namespace=user, filter={"author": "user"}, top_k=5)
    admin_msgs = pinecone.query(namespace=user, filter={"author": "admin"}, top_k=5)

    # 3Ô∏è‚É£ —Å–±–æ—Ä –ø—Ä–æ–º—Ç–∞
    prompt = build_prompt(docs, user_msgs, admin_msgs, text)

    # 4Ô∏è‚É£ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç LLM
    reply = llm.generate(prompt)

    # 5Ô∏è‚É£ –≤—ã–≤–æ–¥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    print(f"Admin: {reply}")
    reply_vec = embedder.encode(reply)
    pinecone.upsert(namespace=user, vectors=[{
        "id": f"msg_{timestamp}",
        "values": reply_vec,
        "metadata": {"author": "admin", "timestamp": timestamp, "text": reply}
    }])


‚∏ª

üí° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–¥–∞–∂–µ –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞)
	1.	–ö—ç—à embedding –ª–æ–∫–∞–ª—å–Ω–æ
	‚Ä¢	–º–∞–ª–µ–Ω—å–∫–∏–π SQLite / JSON —Å–ª–æ–≤–∞—Ä—å {hash(text): vector}
	‚Ä¢	–æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ embedding LLM –¥–æ—Ä–æ–≥–æ–π –ø–æ —Ç–æ–∫–µ–Ω–∞–º
	2.	–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
	‚Ä¢	Pinecone –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Ä—è–¥–æ–∫ ‚Äî —Å–æ—Ä—Ç–∏—Ä—É–π –ø–æ metadata["timestamp"]
	3.	–•—Ä–∞–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π
	‚Ä¢	–ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –Ω–æ–≤—ã—Ö –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–µ
	‚Ä¢	–ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—á—ë—Ç—á–∏–∫ –∏ upsert —Å —Ç–µ–º –∂–µ ID
	4.	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞
	‚Ä¢	–¥–æ–±–∞–≤–∏—Ç—å save_chat_history(user) ‚Üí JSON –¥–ª—è –∞—Ä—Ö–∏–≤–∞
	5.	–ü–∞—Ä–∞–º–µ—Ç—Ä—ã top_k
	‚Ä¢	3‚Äì5 –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –ø–æ 3 –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Å—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
	‚Ä¢	—á–µ–º –º–µ–Ω—å—à–µ ‚Äî —Ç–µ–º –º–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ LLM-–≤—ã–∑–æ–≤–µ

‚∏ª

üîÆ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è

–≠—Ç–∞–ø	–û–ø–∏—Å–∞–Ω–∏–µ
1. –°–µ–π—á–∞—Å	–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π CLI-—Å–∫—Ä–∏–ø—Ç (–æ–¥–∏–Ω –ø–æ—Ç–æ–∫, –±–µ–∑ Flask)
2. –ü–æ–∑–∂–µ	–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å—Ç–µ–π—à–∏–π REST-API (Flask/FastAPI)
3. –î–∞–ª–µ–µ	–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –¥–æ—Å—Ç—É–ø)
4. –í –±—É–¥—É—â–µ–º	–ó–∞–º–µ–Ω–∏—Ç—å Pinecone –Ω–∞ Qdrant/FAISS –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö


‚∏ª

–•–æ—á–µ—à—å, —è –ø–æ–∫–∞–∂—É —Ç–µ–±–µ –ø—Ä–∏–º–µ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ Python-–∫–æ–¥–∞ (50 —Å—Ç—Ä–æ–∫)
–¥–ª—è —Ç–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞: –±–µ–∑ Flask, —Å Pinecone –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º embedder‚Äô–æ–º, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ?
